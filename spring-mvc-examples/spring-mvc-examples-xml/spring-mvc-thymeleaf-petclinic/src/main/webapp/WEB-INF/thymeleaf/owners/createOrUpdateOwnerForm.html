<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/main :: head">
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>PetClinic :: a Spring Framework demonstration</title>

    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/3.3.1/css/bootstrap.min.css"
          th:href="@{/webjars/bootstrap/3.3.1/css/bootstrap.min.css}" rel="stylesheet"/>
    <link href="../../resources/css/petclinic.css"
          th:href="@{/resources/css/petclinic.css}" rel="stylesheet"/>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"
            th:src="@{/webjars/jquery/1.9.0/jquery.js}"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"
            th:src="@{/webjars/jquery-ui/1.9.2/js/jquery-ui-1.9.2.custom.js}"></script>

    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/smoothness/jquery-ui.css"
          th:href="@{/webjars/jquery-ui/1.9.2/css/smoothness/jquery-ui-1.9.2.custom.css}" rel="stylesheet"/>
</head>

<body>
<div class="container">

    <div th:replace="fragments/main :: nav">

    </div>
    <h2>
        <span th::if="${owner['new']}" th:remove="tag">New </span> Owner
    </h2>

    <form th:object="${owner}" th:method="${owner['new']} ? post : put" action="./ownerDetails.html"
          th:action="@{${#httpServletRequest.servletPath}}" class="form-horizontal" id="add-owner-form">
        <div class="control-group" th:classappend="${#fields.hasErrors('firstName')} ? error">
            <label class="control-label">First Name</label>

            <div class="controls">
                <input type="text" th:field="*{firstName}"/>
                <span class="help-inline" th:errors="*{firstName}">[error]</span>
            </div>
        </div>

        <div class="control-group" th:classappend="${#fields.hasErrors('lastName')} ? error">
            <label class="control-label">Last Name</label>

            <div class="controls">
                <input type="text" th:field="*{lastName}"/>
                <span class="help-inline" th:errors="*{lastName}">[error]</span>
            </div>
        </div>

        <div class="control-group" th:classappend="${#fields.hasErrors('address.country')} ? error">
            <label class="control-label">Country</label>

            <div class="controls">
                <select th:field="*{address.country}" style="width: 100px">
                    <option th:each="item : ${countries}"
                            th:value="${item.value}" th:text="${item.key}">Country</option>
                </select>
                <span class="help-inline" th:errors="*{address.country}">[error]</span>
            </div>
        </div>

        <div class="control-group" th:classappend="${#fields.hasErrors('address.city')} ? error">
            <label class="control-label">City</label>

            <div class="controls">
                <input type="text" th:field="*{address.city}"/>
                <span class="help-inline" th:errors="*{address.city}">[error]</span>
            </div>
        </div>

        <div class="control-group" th:classappend="${#fields.hasErrors('address.street')} ? error">
            <label class="control-label">Street</label>

            <div class="controls">
                <input type="text" th:field="*{address.street}"/>
                <span class="help-inline" th:errors="*{address.street}">[error]</span>
            </div>
        </div>

        <div class="control-group" th:classappend="${#fields.hasErrors('address.postalCode')} ? error">
            <label class="control-label">PostalCode</label>

            <div class="controls">
                <input type="text" th:field="*{address.postalCode}"/>
                <span class="help-inline" th:errors="*{address.postalCode}">[error]</span>
            </div>
        </div>

        <div class="control-group" th:classappend="${#fields.hasErrors('telephone')} ? error">
            <label class="control-label">Telephone</label>

            <div class="controls">
                <input type="text" th:field="*{telephone}"/>
                <span class="help-inline" th:errors="*{telephone}">[error]</span>
            </div>
        </div>

        <div class="form-actions">
            <button th:if="${owner['new']}" type="submit" class="btn btn-primary">Add Owner</button>
            <button th:unless="${owner['new']}" type="submit" class="btn btn-primary">Update Owner</button>
        </div>
    </form>
</div>

</body>

</html>
