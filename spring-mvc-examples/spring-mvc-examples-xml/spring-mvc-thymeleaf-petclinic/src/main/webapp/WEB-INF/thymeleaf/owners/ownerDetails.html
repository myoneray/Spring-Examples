<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/main :: head">
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>PetClinic :: a Spring Framework demonstration</title>

    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/3.3.1/css/bootstrap.min.css"
          th:href="@{/webjars/bootstrap/3.3.1/css/bootstrap.min.css}" rel="stylesheet"/>
    <link href="../../resources/css/petclinic.css"
          th:href="@{/resources/css/petclinic.css}" rel="stylesheet"/>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"
            th:src="@{/webjars/jquery/1.9.0/jquery.js}"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"
            th:src="@{/webjars/jquery-ui/1.9.2/js/jquery-ui-1.9.2.custom.js}"></script>

    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/smoothness/jquery-ui.css"
          th:href="@{/webjars/jquery-ui/1.9.2/css/smoothness/jquery-ui-1.9.2.custom.css}" rel="stylesheet"/>
</head>

<body>
<div class="container">

    <div th:replace="fragments/main :: nav">

    </div>

    <h2>Owner Information</h2>

    <table class="table table-striped" style="width:600px;">
        <tr>
            <th>Name</th>
            <td><b th:text="|${owner.firstName} ${owner.lastName}|">[firstname lastname]</b></td>
        </tr>
        <tr>
            <th>Address</th>
            <td th:text="${owner.address}">[address]</td>
        </tr>
        <tr>
            <th>City</th>
            <td th:text="${owner.city}">[city]</td>
        </tr>
        <tr>
            <th>Telephone</th>
            <td th:text="${owner.telephone}">[telephone]</td>
        </tr>
        <tr>
            <td>
                <a th:href="@{|${owner.id}/edit.html|}" href="./createOrUpdateOwnerForm.html" class="btn btn-primary">Edit
                    Owner</a></td>
            <td>
                <a th:href="@{|${owner.id}/pets/new.html|}" href="../pets/createOrUpdatePetForm.html"
                   class="btn btn-success" class="btn btn-primary">Add New Pet</a></td>
        </tr>
    </table>

    <h2>Pets and Visits</h2>


    <table class="table" style="width:600px;" th:each="pet : ${owner.pets}">
        <tr>
            <td valign="top" style="width: 120px;">
                <dl class="dl-horizontal">
                    <dt>Name</dt>
                    <dd th:text="${pet.name}">[name]</dd>
                    <dt>Birth Date</dt>
                    <dd th:text="${#dates.format(pet.birthDate.toDate(), 'yyyy-MM-dd')}">[birthdate yyyy-MM-dd]</dd>
                    <dt>Type</dt>
                    <dd th:text="${pet.type.name}">[type]</dd>
                </dl>
            </td>
            <td valign="top">
                <table class="table-condensed">
                    <thead>
                    <tr>
                        <th>Visit Date</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tr th:each="visit : ${pet.visits}">
                        <td th:text="${#dates.format(visit.date.toDate(), 'yyyy-MM-dd')}">[date yyyy-MM-dd</td>
                        <td th:text="${visit.description}">[description]</td>
                    </tr>
                    <tr>
                        <td>
                            <a th:href="@{|/owners/${owner.id}/pets/${pet.id}/edit|}"
                               href="../pets/createOrUpdatePetForm.html" class="btn btn-primary">Edit Pet</a>
                        </td>
                        <td>
                            <a th:href="@{|/owners/${owner.id}/pets/${pet.id}/visits/new|}"
                               href="../pets/createOrUpdateVisitForm.html" class="btn btn-primary">Add Visit</a>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>

</div>

</body>

</html>
